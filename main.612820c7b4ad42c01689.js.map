{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/api-service.js","webpack:///./js/main.js","webpack:///./js/components/notifications.js","webpack:///./templates/name-country.hbs","webpack:///./templates/country.hbs"],"names":["input","document","querySelector","countryCard","searchForm","fetchCountryByName","countryName","fetch","then","response","json","countryNumber","country","marcup","length","defaultModules","set","PNotifyMobile","info","text","delay","refs","innerHTML","countryCardMarkup","renderCountryCard","addEventListener","debounce","event","preventDefault","searchQuery","elements","query","value","API","console","log","catch","error","title","Handlebars","module","exports","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","nullContext","program","noop","alias1","alias2","alias3"],"mappings":"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","file":"main.612820c7b4ad42c01689.js","sourcesContent":["export default {\r\n    input: document.querySelector(\".input\"),\r\n    countryCard: document.querySelector(\".js-country-card\"),\r\n    searchForm: document.querySelector(\".search-country\"),\r\n  };","\r\n\r\nconst BASE_URL = `https://restcountries.eu/rest/v2/name/`;\r\n\r\n// функция, которая возвращает ответ с бекенда в виде json//\r\nfunction fetchCountryByName(countryName) {\r\n  return fetch(`${BASE_URL}${countryName}`).then((response) => {\r\n    return response.json();\r\n  });\r\n}\r\nexport default { fetchCountryByName };\r\n\r\n\r\n\r\n// export default function fetchCountries(searchQuery) {\r\n//     if (searchQuery) {\r\n//         return fetch(\r\n//             `https://restcountries.eu/rest/v2/name/${searchQuery}?fields=name;population;flag;languages;capital`\r\n//         )\r\n//         .then(response => {\r\n//             if (response.ok) return response.json();\r\n//             throw new Error('Error fetching data');\r\n//         })\r\n//         .catch(error => {\r\n//             console.error('Error: ', error);\r\n//         });\r\n//     }\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// function fetchCountries(country) {\r\n// const url = `https://restcountries.eu/rest/v2/name/${country}`;\r\n// return fetch(url)\r\n// .then(res => res.json())\r\n\r\n// .then({ name })\r\n// .catch(\r\n//     error({\r\n//         text: 'Something went wrong',\r\n//         delay: 1000,\r\n//     }),\r\n//     ); \r\n// }\r\n\r\n// export default fetchCountries;\r\n\r\n","import refs from \"./refs\";\r\nimport countryCardMarkup from \"../templates/country.hbs\";\r\nimport countryName from \"../templates/name-country.hbs\";\r\nimport {showNotificationError, showNotificationForIncrease} from \"./components/notifications\";\r\nimport debounce from \"lodash.debounce\";\r\nimport API from \"./api-service\";\r\n\r\n\r\n\r\nrefs.searchForm.addEventListener(\"input\", debounce(findCountry, 500));\r\n// функция отрисовки карточки страны\r\n\r\nfunction renderCountryCard(country) {\r\n    const marcup = countryCardMarkup(country);\r\n    refs.countryCard.innerHTML = marcup;\r\n}\r\n\r\n// функция отрисовки списка стран\r\nfunction listCountries(country) {\r\n    const marcup = countryName(country);\r\n    refs.countryCard.innerHTML = marcup;\r\n    }\r\n\r\n//  функция поиска страны \r\n\r\nexport function findCountry(event) {\r\n    event.preventDefault();\r\n\r\n    const input = refs.searchForm;\r\n    const searchQuery = input.elements.query.value;\r\n    \r\n    API.fetchCountryByName(searchQuery)\r\n    .then((renderCountryCard) => {\r\n      renderCountryCard;\r\n      countryNumber(renderCountryCard);\r\n      console.log(renderCountryCard.length);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      showNotificationError();\r\n      refs.input.value = \"\";\r\n      refs.countryCard.innerHTML = \"\";\r\n    });\r\n}\r\n\r\n// функция, которая считает кол-во стран  //\r\nfunction countryNumber(countryNumber) {\r\n  if (countryNumber.length > 10) {\r\n    // notify();\r\n    showNotificationForIncrease();\r\n  } else if (countryNumber.length > 2 && countryNumber.length <= 10) {\r\n    //удалить нотификашку\r\n    listCountries(countryNumber);\r\n  } else if (countryNumber.length === 1) {\r\n    //удалить нотификашку\r\n    renderCountryCard(countryNumber);\r\n  }\r\n}\r\n","// import '@pnotify/core/dist/PNotify.css';\r\n// import '@pnotify/mobile/dist/PNotifyMobile.css';\r\n// import '@pnotify/core/dist/Material.css';\r\n// import { defaults } from '@pnotify/core';\r\n\r\n// import { error, info, defaultModules } from '@pnotify/core/dist/PNotify.js';\r\n\r\n// defaults.styling = \"аngeler\";\r\n\r\n\r\nimport { error, info, defaultModules } from '@pnotify/core/dist/PNotify.js';\r\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\n\r\n\r\nfunction showNotificationError (){\r\n  defaultModules.set(PNotifyMobile, {});\r\n  error ({\r\n    title: 'Oh No!',\r\n    text: 'Something terrible happened. Try again!',\r\n    delay: 2000\r\n  })\r\n}; \r\n\r\nfunction showNotificationForIncrease() {\r\n  defaultModules.set(PNotifyMobile, {});\r\n  info({\r\n    text: 'Too many matches found. Please enter a more specific query!',\r\n    delay: 2000,\r\n  });\r\n}\r\n\r\nexport { showNotificationError, showNotificationForIncrease };","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"countries\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":4,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class='country' style=\\\"background-image: url(\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \")\\\">\\r\\n    <div class='country-body'>\\r\\n        <h1 class='country-name'>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h1>\\r\\n        <p class=\\\"country-capital\\\"> <span class=\\\"wrap\\\">Capital: </span>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"capital\") : depth0), depth0))\n    + \"</p>\\r\\n        <p class=\\\"country-population\\\"><span class=\\\"wrap\\\">Population: </span>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"population\") : depth0), depth0))\n    + \"</p>\\r\\n        <ul class=\\\"country-languages\\\"> <span class=\\\"wrap\\\">Languages: </span>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":12},\"end\":{\"line\":11,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </ul>\\r\\n\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"currencies\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":8},\"end\":{\"line\":17,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    <div class='img-wrap'>\\r\\n    </div>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <li class=\\\"country-languages\\\"> \"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <p class=\\\"country-currencies\\\"><span class=\\\"wrap\\\">Currencies: </span>\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</p>\\r\\n    </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":0},\"end\":{\"line\":20,\"column\":13}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}